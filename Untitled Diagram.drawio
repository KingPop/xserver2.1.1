<mxfile host="app.diagrams.net" modified="2021-05-30T02:42:13.659Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36 OPR/76.0.4017.154" etag="D1keY4529H_3xvOLe-0o" version="14.7.3" type="github">
  <diagram id="tiC5_lr3c7eBxx_vU2C-" name="Page-1">
    <mxGraphModel dx="1206" dy="712" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bjBxFB213XxqrcSqxuYE-1" value="1、准备Linux虚拟机环境，例如Centos 7.2.1511&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;2、在DPDK官网下载对应的源码，例如：wget http://fast.dpdk.org/rel/dpdk-19.11.8.tar.xz&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;然后使用tar -xvf dpdk-19.11.8.tar.xz进行解压文件&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3、编译环境确认：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3.1 GCC version &amp;gt;= 4.9 可以直接下载源码进行安装&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3.2 Python &amp;gt;= 3.5 直接下载源码安装&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; yum update openssl 或者 yum install openssl&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 源码安装的时候需要带上： --with-ssl&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3.3 Meson &amp;gt;= 0.49.2 和ninja&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;pip3 install meson&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;pip3 install ninja&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 源码安装 re2c&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 如果提示`GLIBCXX_3.4.20&#39; not found：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 导出环境变量：export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3.4 pyelftools &amp;gt;= 0.22&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;3.5 Library for handling NUMA(Non Uniform Memory Access)&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; numactl-devel&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; libnuma-dev&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; numactl-dev&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;4、运行DPDK应用的环境要求：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;4.1 Kernel ersion &amp;gt;= 4.4&amp;nbsp; (我好想直接忽略了)&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;4.2 glibc &amp;gt;= 2.7 (这个需要修改)&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 使用命令：ldd --version进行确认版本&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;4.3 开启HPET和HPET_MMAP&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 使用命令：grep hpet /proc/timer_list 如果有输出则表示已经开启，反之没有。&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;5、保留大页表给DPDK使用&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;5.1 单点（单核[1个CPU1个核]）系统，&lt;span style=&quot;font-size: inherit&quot;&gt;其配置命令为&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&lt;span style=&quot;font-size: inherit&quot;&gt;&amp;nbsp; &amp;nbsp;echo 1024 &amp;gt; /sys/kernel/mm/hugepages/hugepages-2048kB/nr_hugepages&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;5.2 多点（1个CPU多个核）系统，其配置命令为：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; &amp;nbsp;echo 1024 &amp;gt; /sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&lt;/div&gt;&amp;nbsp; &amp;nbsp;echo 1024 &amp;gt; /sys/devices/system/node/node1/hugepages/hugepages-2048kB/nr_hugepages&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;6、在DPDK中使用大页表的方式：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; mkdir /mnt/huge&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&lt;/div&gt;&amp;nbsp; mount -t hugetlbfs pagesize=1GB /mnt/huge&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 如果要保证重启后自动挂载，则需要修改文件：/etc/fstab文件加入以下语句：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; nodev /mnt/huge hugetlbfs pagesize=1GB 0 0&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;7、对DPDK进行源码编译&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;7.1 对源码进行解压&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;7.2 进入到源码的目录，执行如下命令：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; meson build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; cd build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; ninja&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; ninja install ### 作用是安装DPDK相关的lib库、相关头文件和相关可用的DPDK命令到系统中&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; ldconfig&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;7.3 如果执行ninja install的安装目录是/usr/local目录时，需要在/etc/ld.so.conf.d目录下新建一个XXX.conf&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 然后在文件中加入两行：/usr/local/lib 和 /usr/local/lib64&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 最后执行：ldconfig&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;7.4 编译example目录下的例程：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;meson -Dexamples=l2fwd,l3fwd build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;meson configure&amp;nbsp;-Dexamples=l2fwd,l3fwd build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 编译example目录下所有例程：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;meson -Dexamples=all build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp;&amp;nbsp;meson configure&amp;nbsp;-Dexamples=all build&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; 然后进入到build目录执行：ninja命令&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;8、运行example下的程序：&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;8.1 检测&amp;nbsp;modprobe uio_pci_generic&lt;/div&gt;&lt;div style=&quot;resize: none ; outline: 0px ; font-size: inherit&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; insmod build/kernel/linux/igb_uio.ko&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="640" height="880" as="geometry" />
        </mxCell>
        <mxCell id="bjBxFB213XxqrcSqxuYE-2" value="&lt;div&gt;&lt;div class=&quot;document&quot;&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;b&gt;understand软件搜索字符串使用方法：&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 11pt ; font-family: &amp;#34;sf pro&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , , &amp;#34;noto sans cjk sc&amp;#34; , sans-serif , &amp;#34;roboto&amp;#34; , &amp;#34;droid sans&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;tahoma&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;heiti sc&amp;#34; ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;string: test&amp;nbsp; &amp;nbsp; - searches for “test” only in “strings”&lt;/span&gt;&lt;span style=&quot;font-size: 11pt ; font-family: &amp;#34;sf pro&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , , &amp;#34;noto sans cjk sc&amp;#34; , sans-serif , &amp;#34;roboto&amp;#34; , &amp;#34;droid sans&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;tahoma&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;heiti sc&amp;#34; ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;identifier:test     - searches for identifiers named test&lt;/span&gt;&lt;span style=&quot;font-size: 11pt ; font-family: &amp;#34;sf pro&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , , &amp;#34;noto sans cjk sc&amp;#34; , sans-serif , &amp;#34;roboto&amp;#34; , &amp;#34;droid sans&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;tahoma&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;heiti sc&amp;#34; ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;comment: test&amp;nbsp; &amp;nbsp;- searches for comments with “test” in them&lt;/span&gt;&lt;span style=&quot;font-size: 11pt ; font-family: &amp;#34;sf pro&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , , &amp;#34;noto sans cjk sc&amp;#34; , sans-serif , &amp;#34;roboto&amp;#34; , &amp;#34;droid sans&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;tahoma&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;heiti sc&amp;#34; ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;test this&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- matches anything test OR this&lt;/span&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;" parent="1" vertex="1">
          <mxGeometry x="760" y="40" width="520" height="200" as="geometry" />
        </mxCell>
        <mxCell id="bjBxFB213XxqrcSqxuYE-3" value="&lt;div class=&quot;document&quot;&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font&gt;&lt;span style=&quot;font-size: 10pt ; font-family: &amp;#34;simsun&amp;#34; , &amp;#34;songti sc&amp;#34; , , sans-serif ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;b&gt;报错的原因：&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 11pt ; font-family: &amp;#34;sf pro&amp;#34; , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , , &amp;#34;noto sans cjk sc&amp;#34; , sans-serif , &amp;#34;roboto&amp;#34; , &amp;#34;droid sans&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;tahoma&amp;#34; , &amp;#34;arial&amp;#34; , &amp;#34;hiragino sans gb&amp;#34; , &amp;#34;heiti sc&amp;#34; ; color: rgb(17 , 17 , 17) ; background: transparent ; letter-spacing: 0pt ; vertical-align: baseline&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;1、运行时直接报如下错误&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;EAL: Detected 4 lcore(s)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;EAL: Detected 1 NUMA nodes&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;EAL: RTE_RING tailq is already registered&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;PANIC in tailqinitfn_rte_ring_tailq():&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;Cannot initialize tailq: RTE_RING&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;1.1 这个貌似是由于家在了pmds插件引发的错误，具体原因还不是很清楚，当前直接做屏蔽处理。&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;div&gt;&lt;font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;" parent="1" vertex="1">
          <mxGeometry x="760" y="320" width="520" height="240" as="geometry" />
        </mxCell>
        <mxCell id="QvP58mdF4u6E48YRdZP_-1" value="&lt;div class=&quot;document&quot;&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;DPDK运行环境：&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;1、巨页表&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;mkdir /mnt/huge_2M&lt;/div&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;&lt;/div&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;mount -t hugetlbfs pagesize=2M /mnt/huge_2M&lt;/p&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;如果要保证重启后自动挂载，则需要修改文件：/etc/fstab文件加入以下语句：&lt;/div&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;nodev /mnt/huge_2M hugetlbfs pagesize=2M 0 0&lt;/div&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;echo 256 &amp;gt; /sys/kernel/mm/hugepages/hugepages-2048kB/nr_hugepages&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;echo 1024 &amp;gt; /sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages&lt;/div&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;&lt;/div&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;echo 1024 &amp;gt; /sys/devices/system/node/node1/hugepages/hugepages-2048kB/nr_hugepages&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;注：&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;1.1 查看大页表的命令：cat /proc/meminfo | grep Huge&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;2、UIO驱动的支持&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;modprobe &lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;uio_pci_generic&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-size: inherit ; resize: none ; outline: 0px&quot;&gt;insmod build/kernel/linux/&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;igb_uio.ko&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 180% ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;3、绑定网口到DPDK的内核模块&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;dpdk-devbind --status&amp;nbsp; #查看网口与内核模块的绑定状态 {&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;[root@localhost ld.so.conf.d]# dpdk-devbind --status&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;Network devices using kernel driver&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;===================================&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;0000:02:01.0 &#39;82545EM Gigabit Ethernet Controller (Copper) 100f&#39; if=eno16777736 drv=e1000 unused= *Active*&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;0000:&lt;/font&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;02:05.0&lt;/font&gt;&lt;/b&gt;&lt;font color=&quot;#111111&quot;&gt;&amp;nbsp;&#39;82545EM Gigabit Ethernet Controller (Copper) 100f&#39; if=eno33554984 drv=e1000 unused=&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;0000:02:06.0 &#39;82545EM Gigabit Ethernet Controller (Copper) 100f&#39; if=eno50332208 drv=e1000 unused=&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;No &#39;Crypto&#39; devices detected&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;============================&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=&quot;paragraph text-align-type-left pap-line-1.8 pap-line-rule-auto pap-spacing-before-2pt pap-spacing-after-2pt&quot; style=&quot;line-height: 21.6px ; margin-top: 2.66667px ; margin-bottom: 2.66667px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;dpdk-devbind&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;font color=&quot;#111111&quot;&gt;--bind=&lt;/font&gt;&lt;/span&gt;&lt;font&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;igb_uio&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#111111&quot;&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 13.3333px&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;02:05.0&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="40" y="920" width="640" height="760" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
